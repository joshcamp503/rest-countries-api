{"version":3,"sources":["context/ModeContext.js","hooks/useMode.js","components/ModeSelector.js","components/Navbar.js","assets/icons8-planet-earth-47.png","context/CountriesContext.js","hooks/useFetch.js","hooks/useCountries.js","components/CountryList.js","components/Search.js","pages/Home.js","pages/country/CountryDetails.js","pages/country/Country.js","App.js","index.js"],"names":["ModeContext","createContext","modeReducer","state","action","type","mode","payload","ModeProvider","children","useReducer","dispatch","Provider","value","changeMode","useMode","context","useContext","undefined","Error","ModeSelector","className","onClick","style","color","filter","Navbar","to","textDecoration","id","src","alt","CountriesContext","countriesReducer","countries","searchTerm","console","log","defaultState","CountriesProvider","getCountries","url","dispatchFunc","useState","data","setData","isPending","setIsPending","error","setError","useEffect","controller","AbortController","fetchData","a","fetch","signal","res","ok","statusText","json","name","abort","useFetch","setSearchTerm","filterCountries","target","classList","contains","filterParam","textContent","map","country","region","useCountries","CountryList","common","toLowerCase","includes","listCountries","index","flags","png","population","capital","Search","onSubmit","e","preventDefault","placeholder","onChange","optionsMenu","document","querySelector","caret","toggle","changeFilterTitle","Home","CountryDetails","handleClick","nativeNames","Object","entries","nativeName","lang","currencies","curr","languages","borderCountrySymbols","borders","borderCountries","cca3","borderCountryNames","join","subregion","tld","Country","navigate","useNavigate","useParams","App","basename","path","element","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ff826c45.chunk.js","sourcesContent":["import { createContext, useReducer } from \"react\"\n\n\nexport const ModeContext = createContext()\n\nconst modeReducer = (state, action) => {\n  switch (action.type) {\n    case 'CHANGE_MODE':\n      return { ...state, mode: action.payload }\n    default: \n      return state\n  }\n}\n\nexport function ModeProvider({ children }) {\n  const [state, dispatch] = useReducer(modeReducer, { mode: 'light' })\n\n  const changeMode = (mode) => {\n    dispatch({ type: 'CHANGE_MODE', payload: mode})\n  }\n\n  return (\n    <ModeContext.Provider value={{...state, changeMode}}>\n      {children}\n    </ModeContext.Provider>\n  )\n}\n","import { useContext } from \"react\";\nimport { ModeContext } from \"../context/ModeContext\";\n\nexport const useMode = () => {\n  const context = useContext(ModeContext)\n\n  if(context === undefined) {\n    throw new Error('useMode must be used inside a ModeProvider')\n  }\n\n  return context\n}\n","import { useMode } from \"../hooks/useMode\"\n\n// STYLES\nimport './ModeSelector.css'\n\nexport default function ModeSelector() {\n  const { changeMode, mode } = useMode()\n\n  const toggleMode = () => {\n    changeMode(mode === 'dark' ? 'light' : 'dark')\n  }\n\n  return (\n    <div className=\"mode-selector\">\n      <button onClick={toggleMode}>\n        <i className=\"far fa-moon\" style={{ color: 'hsl(200, 15%, 8%)', filter: mode === 'dark' ? 'invert(100%)' : 'invert(20%)' }}></i>\n        Dark Mode\n      </button>\n    </div>\n  )\n}\n","import { Link } from 'react-router-dom'\nimport { useMode } from '../hooks/useMode';\n\n// STYLES\nimport './Navbar.css'\n\n// COMPONENTS\nimport ModeSelector from './ModeSelector'\n\n// IMAGES\nimport Earth from '../assets/icons8-planet-earth-47.png'\n\nexport default function Navbar() {\n  const { mode } = useMode()\n\n  return ( \n    <nav className={`navbar ${mode}`}>\n      {/* <Link to=\"/rest-countries-api\" onClick={() => window.location.reload()} style={{ textDecoration: 'none', color: 'inherit' }}> */}\n      <Link to=\"/rest-countries-api\" style={{ textDecoration: 'none', color: 'inherit' }}>\n        <h3><img id=\"earth\" src={Earth} alt=\"planet earth\" />Where in the world?</h3>\n      </Link>\n      <ModeSelector />\n    </nav>\n   );\n}\n ","export default \"data:image/png;base64,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\"","import { createContext, useReducer } from \"react\";\nimport { useFetch  } from \"../hooks/useFetch\";\n\nexport const CountriesContext = createContext()\n\nconst countriesReducer = (state, action) => {\n  switch (action.type) {\n    case 'FILTER_COUNTRIES':\n      return { ...state, countries: action.payload }\n    case 'SET_SEARCH_TERM':\n      return { ...state, searchTerm: action.payload }\n    case 'GET_COUNTRIES':\n      console.log(action.payload)\n      return { ...state, countries: action.payload, defaultState: action.payload }\n    default: \n      return state\n  }\n}\n\nexport function CountriesProvider({ children }) {\n\n  const initialState = {\n    countries: [],\n    searchTerm: '',\n    defaultState: []\n  }\n\n  const [state, dispatch] = useReducer(countriesReducer, initialState)\n\n  const getCountries = (countries) => {\n    dispatch({ type: 'GET_COUNTRIES', payload: countries })\n  }\n\n  const { data, isPending, error } = useFetch('https://restcountries.com/v3.1/all', getCountries)\n\n  const setSearchTerm = (searchTerm) => {\n    dispatch({ type: 'SET_SEARCH_TERM', payload: searchTerm })\n  }\n\n\n  const filterCountries = (countries, target) => {\n    if(!target.classList.contains('option')) return false\n    const { defaultState } = state\n    const filterParam = target.textContent\n    if (filterParam === 'All' ) {\n      countries = defaultState.map(country => {\n        return country\n      })\n    } else {\n        countries = defaultState.filter(country => {\n        return country.region === filterParam\n      })\n    }\n    \n    dispatch({ type: 'FILTER_COUNTRIES', payload: countries })\n  }\n\n  return (\n    <CountriesContext.Provider value={{ ...state, getCountries, setSearchTerm, filterCountries, data, isPending, error }}>\n      {children}\n    </CountriesContext.Provider>\n  )\n\n}","import { useState, useEffect } from 'react'\n\nexport const useFetch = (url, dispatchFunc) => {\n  // second parameter here is a dispatch function\n  // this is only necessary if you will be using context and setting it with async data using fetch\n  // if not using context, second param is not necessary\n  // just uncomment the line after this one and replace the dipatch function further below with setData(json)\n  const [data, setData] = useState(null)\n  const [isPending, setIsPending] = useState(false)\n  const [error, setError] = useState(null)\n\n  useEffect(() => {\n    const controller = new AbortController()\n    \n    const fetchData = async () => {\n      setIsPending(true)\n\n      try{\n        const res = await fetch(url, { signal: controller.signal })\n        if (!res.ok) {\n          throw new Error(res.statusText)\n        }\n        const json = await res.json()\n\n        setIsPending(false)\n        setData(json)\n        dispatchFunc(json)\n        setError(null)\n      } catch (err) {\n        if(err.name === \"AbortError\") {\n          console.log('The fetch was aborted')\n        } else {\n          setIsPending(false)\n          setError('Could not fetch the data')\n        }\n      }\n\n    }\n\n    fetchData()\n\n    return () => {\n      controller.abort()\n    }\n  }, [url])\n\n  return { data, isPending, error }\n}\n","import { useContext } from \"react\";\nimport { CountriesContext } from \"../context/CountriesContext\";\n\nexport const useCountries = () => {\n  const context = useContext(CountriesContext)\n\n  if (context === undefined) {\n    throw new Error('useCountries() must be used inside a CountriesProvider')\n  }\n\n  return context\n}","import { Link } from 'react-router-dom'\nimport { useCountries } from '../hooks/useCountries'\nimport { useMode } from '../hooks/useMode'\n\n// STYLES\nimport './CountryList.css'\n\n\nexport default function CountryList() {\n  const { countries, searchTerm } = useCountries()\n  const { mode } = useMode()\n  console.log(countries)\n\n  const listCountries = (searchTerm) => countries.filter(country => {\n    return country.name.common.toLowerCase().includes(searchTerm.toLowerCase())\n  })\n\n\n  return (\n    <div className=\"country-list\">\n      {listCountries(searchTerm).map((country, index) => (\n        <div className={`country-card ${mode} grow`} key={index}>\n        <Link to={`/rest-countries-api/country/${country.name.common}`} style={{ textDecoration: 'none', color: 'inherit' }}>\n          <div className=\"flag-container\">\n            <img src={country.flags.png} alt=\"country flag\" />\n          </div>\n          <div className=\"info-container\">\n            <h3>{country.name.common}</h3>\n            <p>Population: <span>{country.population}</span></p>\n            <p>Region: <span>{country.region}</span></p>\n            <p>Capital: <span>{country.capital}</span></p>\n          </div>\n        </Link>\n        </div>\n      ))}\n    </div>\n  )\n}\n ","import { useCountries } from '../hooks/useCountries'\nimport { useMode } from '../hooks/useMode'\n\n// Styles\nimport './Search.css'\n\nexport default function Search() {\n  const { countries, searchTerm, setSearchTerm, filterCountries} = useCountries()\n  const { mode } = useMode()\n\n  const toggleDropdown = (e) => {\n    const optionsMenu = document.querySelector('.options-menu')\n    const caret = document.querySelector('.select-menu i')\n    optionsMenu.classList.toggle('active')\n    caret.classList.toggle('fa-angle-down')\n    caret.classList.toggle('fa-angle-up')\n  }\n\n  const changeFilterTitle = (e) => {\n    e.preventDefault()\n    const filterTitle = document.querySelector('.filter-title')\n    filterTitle.textContent = e.target.textContent\n  }\n\n\n\n  return (\n    <div className={`search ${mode}`}>\n      <form className=\"search-form\" onSubmit={e => e.preventDefault()}>\n        <div className=\"search-bar-container grow\">\n          <i className=\"fas fa-search\"></i>\n          <input \n            className=\"search-bar\" \n            id=\"search-bar\" type=\"search\"  \n            placeholder='Search for a country...'\n            value={searchTerm}\n            onChange={e => {\n              setSearchTerm(e.target.value)\n            }}\n          />\n        </div>\n        <div className=\"select-menu\" onClick={toggleDropdown} >\n          <p className=\"filter-title\">Filter by Region</p>\n          <i className=\"fas fa-angle-down\"></i>\n          <div className=\"options-menu-container\">\n            <ul className=\"options-menu\" onClick={(e) => {\n              filterCountries(countries, e.target)\n              changeFilterTitle(e)\n              }}>\n              <li className=\"option\">All</li>\n              <li className=\"option\">Africa</li>\n              <li className=\"option\">Americas</li>\n              <li className=\"option\">Asia</li>\n              <li className=\"option\">Europe</li>\n              <li className=\"option\">Oceania</li>\n            </ul>\n          </div>\n        </div>\n      </form>\n    </div>\n  )\n}\n\n","import { useCountries } from '../hooks/useCountries';\nimport { useMode } from '../hooks/useMode';\n\n// Components\nimport CountryList from '../components/CountryList'\nimport Search from '../components/Search';\n\nexport default function Home() {\n  const { data, isPending, error } = useCountries()\n  const { mode } = useMode()\n\n  return ( \n    <div className={`home ${mode}`}>\n      <Search />\n      {error && <p className=\"error\">{error}</p>}\n      {isPending && <p className=\"loading\"> Loading...</p>}\n      {data && <CountryList />}\n    </div>\n  );\n}\n","// STYLES\nimport \"./CountryDetails.css\"\n\nexport default function CountryDetails({ country, countries, handleClick }) {\n\n  // DISTILL NATIVE NAMES OBJ INTO A SINGLE ARRAY\n  const nativeNameObj = Object.entries(country.name.nativeName)\n  const nativeNames = nativeNameObj.map(lang => {\n    return lang[1].common\n  })\n  // console.log(nativeNames)\n\n  // DISTILL CURRENCIES OBJ INTO A SINGLE ARRAY\n  const getCurrencyNames = () => {\n    if (!country.currencies) return false\n    const currenciesArray = Object.entries(country.currencies)\n    return currenciesArray.map(curr => {\n      return curr[1].name\n    })\n  }\n  const currencies = getCurrencyNames()\n  // console.log(currencies)\n\n\n  // DISTILL LANGUAGES OBJ INTO A SINGLE ARRAY\n  const languagesObj = Object.entries(country.languages)\n  const languages = languagesObj.map(lang => {\n    return lang[1]\n  })\n  // console.log(languages)\n\n  // FILTER BORDER COUNTRIES OUT OF COUNTRIES OBJ AND PLACE NAMES INTO A SINGLE ARRAY\n  const borderCountrySymbols = country.borders\n  const borderCountries = countries.filter(country => {\n    if(!borderCountrySymbols) return false\n    return borderCountrySymbols.includes(country.cca3)\n  })\n  const borderCountryNames = borderCountries.map(country => {\n    return country.name.common\n  })\n\n  return (\n    <div className=\"country-details\">\n      <div className=\"flag-container\">\n        <img src={country.flags.png} alt=\"country flag\" />\n      </div>\n      <div className=\"info-container\">\n        <h3>{country.name.common}</h3>\n        <div className=\"demographics-container\">\n          <div className=\"general-info\">\n            <p>Native Name: <span>{nativeNames.join(', ')}</span></p>\n            <p>Population: <span>{country.population}</span></p>\n            <p>Region: <span>{country.region}</span></p>\n            <p>Sub Region: <span>{country.subregion}</span></p>\n            <p>Capital: <span>{country.capital}</span></p>\n          </div>\n          <div className=\"technical-info\">\n            <p>Top Level Domain: <span>{country.tld}</span></p>\n            <p>Currencies: {currencies && <span>{currencies.join(', ')}</span>}</p>\n            <p>Languages: <span>{languages.join(', ')}</span></p>\n          </div>\n        </div>\n        <div className=\"border-countries\">\n          <h4>Border Countries: </h4>\n          <div className=\"border-countries-container\">\n            {borderCountryNames.map((country, index) => (\n              <button className=\"grow\" key={index} onClick={handleClick}><p>{country}</p></button>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import { useNavigate, useParams } from 'react-router-dom'\nimport { useCountries } from '../../hooks/useCountries'\nimport { useMode } from '../../hooks/useMode'\n\n// STYLES\nimport './Country.css'\n\n// COMPONENTS\nimport CountryDetails from './CountryDetails'\n\nexport default function Country() {\n  const { mode } = useMode()\n  const navigate = useNavigate()\n  const { id } = useParams()\n  const { countries, isPending, error } = useCountries()\n  const [ country ] = countries.filter(country => {\n    return country.name.common === id\n  })\n\n  console.log(country)\n\n  const handleClick = (e) => {\n    if (e.target.textContent === 'Back') {\n      navigate('/rest-countries-api')\n    } else {\n      navigate(`/rest-countries-api/country/${e.target.textContent}`)\n    }\n  }\n\n  return (\n    <div className={`country-page ${mode}`}>\n      <div className=\"country-page-content\">\n        <button className=\"back-btn grow\" onClick={handleClick}><i className=\"fas fa-angle-double-left\"></i><span>Back</span></button>\n        {error && <p className=\"error\">{error}</p>}\n        {isPending && <p className=\"loading\"> Loading...</p>}\n        {country && <CountryDetails country={country} countries={countries} handleClick={handleClick}/>}\n      </div>\n    </div>\n  )\n}\n","import { BrowserRouter, Routes, Route } from \"react-router-dom\";\n\n// COMPONENTS\nimport Navbar from \"./components/Navbar\";\nimport Home from \"./pages/Home\";\nimport Country from \"./pages/country/Country\";\nimport { useMode } from \"./hooks/useMode\";\n\nfunction App() {\n  const { mode } = useMode()\n\n  return ( \n    <div className={`App ${mode}`}>\n      <BrowserRouter basename=\"/where-in-the-world\">\n        <Navbar />\n        <Routes>\n          <Route path=\"/\" element={<Home />} />\n          <Route path=\"/country/:id\" element={<Country />} />\n        </Routes>\n      </BrowserRouter>\n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { CountriesProvider } from './context/CountriesContext';\nimport { ModeProvider } from './context/ModeContext'\n\nReactDOM.render(\n  <React.StrictMode>\n    <ModeProvider>\n      <CountriesProvider>\n        <App />\n      </CountriesProvider>\n    </ModeProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}